(function(){var e={878:function(e,t,a){"use strict";a.r(t);var l=a(601),s=a.n(l),r=a(314),n=a.n(r),i=a(417),o=a.n(i),c=new URL(a(30),a.b),u=n()(s()),d=o()(c);u.push([e.id,'.yf-tree-select .select-option{display:none!important}.is-empty .el-tree-node.is-current{position:relative}.not-only-leaf .single-select .el-tree-node.is-current>.el-tree-node__content .el-tree-node__label{color:#409eff;font-weight:700;position:relative;flex:1;&:after{content:"";position:absolute;top:50%;right:20px;border-top:none;border-right:none;background-repeat:no-repeat;background-position:50%;background-color:#409eff;mask:url('+d+") no-repeat;mask-size:100% 100%;-webkit-mask:url("+d+') no-repeat;-webkit-mask-size:100% 100%;transform:translateY(-50%);width:12px;height:12px}}.only-leaf .single-select .el-tree-node.is-current>.el-tree-node__content .is-leaf+.el-tree-node__label{color:#409eff;font-weight:700;position:relative;flex:1;&:after{content:"";position:absolute;top:50%;right:20px;border-top:none;border-right:none;background-repeat:no-repeat;background-position:50%;background-color:#409eff;mask:url('+d+") no-repeat;mask-size:100% 100%;-webkit-mask:url("+d+") no-repeat;-webkit-mask-size:100% 100%;transform:translateY(-50%);width:12px;height:12px}}[aria-disabled=true]>.el-tree-node__content{color:inherit!important;background:transparent!important;cursor:no-drop!important}.yf-tree-select-popper{max-height:400px;overflow:auto}.yf-tree-select-popper.disabled{display:none!important}.yf-tree-select-popper .el-button--small{width:25px!important;min-width:25px!important}.yf-tree-select-popper[x-placement^=bottom]{margin-top:5px}.mb10{margin-bottom:10px}.no-data{height:32px;line-height:32px;font-size:14px;color:#ccc;text-align:center}.only-leaf .is-leaf+.el-checkbox .el-checkbox__inner{display:inline-block}.only-leaf .el-checkbox .el-checkbox__inner{display:none}",""]),t["default"]=u},404:function(e,t,a){"use strict";a.r(t);var l=a(601),s=a.n(l),r=a(314),n=a.n(r),i=n()(s());i.push([e.id,"#app{width:1200px;margin:0 auto;padding:20px}.d-flex{display:flex}",""]),t["default"]=i},102:function(e,t,a){"use strict";a.r(t);var l=a(601),s=a.n(l),r=a(314),n=a.n(r),i=n()(s());i.push([e.id,".json-display[data-v-5b917fb8]{white-space:pre-wrap;font-family:monospace;background-color:#f5f5f5;padding:10px;border:1px solid #ddd;flex:1;margin-left:10px}",""]),t["default"]=i},420:function(e,t,a){"use strict";a.r(t);var l=a(601),s=a.n(l),r=a(314),n=a.n(r),i=n()(s());i.push([e.id,".json-display[data-v-1a586842]{white-space:pre-wrap;font-family:monospace;background-color:#f5f5f5;padding:10px;border:1px solid #ddd;flex:1;margin-left:10px}",""]),t["default"]=i},849:function(e,t,a){"use strict";a.r(t);var l=a(601),s=a.n(l),r=a(314),n=a.n(r),i=n()(s());i.push([e.id,".json-display[data-v-92e914be]{white-space:pre-wrap;font-family:monospace;background-color:#f5f5f5;padding:10px;border:1px solid #ddd;flex:1;margin-left:10px}",""]),t["default"]=i},877:function(e,t,a){var l=a(878);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var s=a(548).A;s("75aad3cd",l,!0,{sourceMap:!1,shadowMode:!1})},25:function(e,t,a){var l=a(404);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var s=a(548).A;s("12da80ca",l,!0,{sourceMap:!1,shadowMode:!1})},593:function(e,t,a){var l=a(102);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var s=a(548).A;s("4a9b6216",l,!0,{sourceMap:!1,shadowMode:!1})},195:function(e,t,a){var l=a(420);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var s=a(548).A;s("09efb5ee",l,!0,{sourceMap:!1,shadowMode:!1})},662:function(e,t,a){var l=a(849);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var s=a(548).A;s("bc58d6a0",l,!0,{sourceMap:!1,shadowMode:!1})},534:function(e,t,a){"use strict";var l=Vue,s=a.n(l),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("el-tabs",{attrs:{"tab-position":"left"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[t("el-tab-pane",{attrs:{name:"single",label:"单选"}},[t("el-tabs",{attrs:{"tab-position":"left"}},[t("el-tab-pane",{attrs:{label:"只能选子节点"}},[t("select1")],1),t("el-tab-pane",{attrs:{label:"选任意节点"}},[t("select3")],1),t("el-tab-pane",{attrs:{label:"选择节点值为键值对"}},[t("select5")],1),t("el-tab-pane",{attrs:{label:"简单值回显"}},[t("select7")],1),t("el-tab-pane",{attrs:{label:"复杂值回显"}},[t("select9")],1)],1)],1),t("el-tab-pane",{attrs:{name:"multiple",label:"多选"}},[t("el-tabs",{attrs:{"tab-position":"left"}},[t("el-tab-pane",{attrs:{label:"单值数组"}},[t("select2")],1),t("el-tab-pane",{attrs:{label:"对象数组"}},[t("select4")],1),t("el-tab-pane",{attrs:{label:"折叠labels，只展示父级"}},[t("select6")],1),t("el-tab-pane",{attrs:{label:"只能选子节点"}},[t("select8")],1),t("el-tab-pane",{attrs:{label:"回显单值数组"}},[t("select10")],1),t("el-tab-pane",{attrs:{label:"回显对象数组"}},[t("select12")],1)],1)],1),t("el-tab-pane",{attrs:{name:"other",label:"其他"}},[t("el-tabs",{attrs:{"tab-position":"left"}},[t("el-tab-pane",{attrs:{label:"获取选中的键值对"}},[t("select51")],1),t("el-tab-pane",{attrs:{label:"获取选中对应对象"}},[t("select52")],1),t("el-tab-pane",{attrs:{label:"获取label对应对象"}},[t("select53")],1)],1)],1)],1)],1)},n=[],i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex"},[t("yf-tree-select",{attrs:{"tree-attrs":e.treeParams,"only-leaf":""},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),t("value-area",{attrs:{value:e.selectValue,data:e.treeParams.data},on:{"update:value":function(t){e.selectValue=t},"update:data":function(t){return e.$set(e.treeParams,"data",t)}}})],1)},o=[];const c=[{name:"标签一",id:1,age:1},{name:"标签二",id:2,age:2},{name:"标签三",id:3,age:3,children:[{name:"标签三-一",id:31,age:31},{name:"标签三-二",id:32,age:41},{name:"标签三-三",id:33,age:51}]},{name:"标签四",id:4,age:6,children:[{name:"标签四-一",id:41,age:7},{name:"标签四-二",id:42,age:8,children:[{name:"标签四-二-一",id:421,age:9},{name:"标签四-二-二",id:422,age:10},{name:"标签四-二-三",id:423,age:11}]},{name:"标签四-三",id:43,age:12}]}],u={children:"children",label:"name",value:"id"};var d=function(){var e=this,t=e._self._c;return t("el-form",{staticStyle:{flex:"1"},attrs:{"label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:"v-model:",error:e.valueErrorMsg}},[t("el-input",{attrs:{type:"textarea",rows:8},on:{input:e.handleValueChange},model:{value:e.modelValue,callback:function(t){e.modelValue=t},expression:"modelValue"}})],1),t("el-form-item",{attrs:{label:"data:",error:e.dataErrorMsg}},[t("el-input",{attrs:{type:"textarea",rows:35},on:{input:e.handleDataChange},model:{value:e.modelData,callback:function(t){e.modelData=t},expression:"modelData"}})],1)],1)},p=[],f={name:"valueArea",props:{value:{type:[String,Number,Array,Object],default:""},data:{type:Array,default:""}},data(){return{modelValue:"",modelData:"",valueErrorMsg:"",dataErrorMsg:""}},watch:{value:{handler(e){["object"].includes(typeof e)?this.modelValue=JSON.stringify(e,null,2):this.modelValue=e},immediate:!0},data:{handler(e){this.modelData=JSON.stringify(e,null,2)},immediate:!0}},methods:{handleValueChange(e){try{e=JSON.parse(e),this.valueErrorMsg="",this.$emit("update:value",e)}catch(t){this.valueErrorMsg="数据格式有误"}},handleDataChange(e){try{e=JSON.parse(e),this.dataErrorMsg="",this.$emit("update:data",e)}catch(t){this.dataErrorMsg="数据格式有误"}}}},h=f,m=a(656),v=(0,m.A)(h,d,p,!1,null,"4dcc0888",null),b=v.exports,g={name:"select1",components:{ValueArea:b},data(){return{selectValue:"",treeParams:{data:c,filterable:!0,checkStrictly:!0,props:u}}}},y=g,x=(0,m.A)(y,i,o,!1,null,"7252e74a",null),V=x.exports,_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex"},[t("yf-tree-select",{attrs:{"tree-attrs":e.treeParams},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),t("value-area",{attrs:{value:e.selectValue,data:e.treeParams.data},on:{"update:value":function(t){e.selectValue=t},"update:data":function(t){return e.$set(e.treeParams,"data",t)}}})],1)},k=[],w={name:"select3",components:{ValueArea:b},data(){return{selectValue:"",treeParams:{data:c,filterable:!0,props:u}}}},A=w,C=(0,m.A)(A,_,k,!1,null,"33463856",null),P=C.exports,S=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex"},[t("yf-tree-select",{attrs:{"tree-attrs":e.treeParams,"need-value-name":""},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),t("value-area",{attrs:{value:e.selectValue,data:e.treeParams.data},on:{"update:value":function(t){e.selectValue=t},"update:data":function(t){return e.$set(e.treeParams,"data",t)}}})],1)},L=[],O={name:"select5",components:{ValueArea:b},data(){return{selectValue:"",treeParams:{data:c,filterable:!0,checkStrictly:!1,props:u}}}},D=O,M=(0,m.A)(D,S,L,!1,null,"65a612b2",null),F=M.exports,N=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex"},[t("yf-tree-select",{attrs:{"tree-attrs":e.treeParams},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),t("value-area",{attrs:{value:e.selectValue,data:e.treeParams.data},on:{"update:value":function(t){e.selectValue=t},"update:data":function(t){return e.$set(e.treeParams,"data",t)}}})],1)},T=[],E={name:"select7",components:{ValueArea:b},data(){return{selectValue:31,treeParams:{data:c,filterable:!0,checkStrictly:!1,props:u}}}},$=E,j=(0,m.A)($,N,T,!1,null,"4e6aae31",null),I=j.exports,H=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex"},[t("yf-tree-select",{attrs:{"tree-attrs":e.treeParams},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),t("value-area",{attrs:{value:e.selectValue,data:e.treeParams.data},on:{"update:value":function(t){e.selectValue=t},"update:data":function(t){return e.$set(e.treeParams,"data",t)}}})],1)},J=[],B={name:"select9",components:{ValueArea:b},data(){return{selectValue:{id:41,name:"标签四-一"},treeParams:{data:c,filterable:!0,checkStrictly:!1,props:u}}}},z=B,U=(0,m.A)(z,H,J,!1,null,"9fe32bb6",null),R=U.exports,K=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex"},[t("yf-tree-select",{attrs:{"tree-attrs":e.treeParams},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),t("value-area",{attrs:{value:e.selectValue,data:e.treeParams.data},on:{"update:value":function(t){e.selectValue=t},"update:data":function(t){return e.$set(e.treeParams,"data",t)}}})],1)},Y=[],G={name:"select2",components:{ValueArea:b},data(){return{selectValue:[],treeParams:{data:c,filterable:!0,props:u}}}},W=G,q=(0,m.A)(W,K,Y,!1,null,"1391fa70",null),Q=q.exports,Z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex"},[t("yf-tree-select",{attrs:{"tree-attrs":e.treeParams,"need-value-name":""},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),t("value-area",{attrs:{value:e.selectValue,data:e.treeParams.data},on:{"update:value":function(t){e.selectValue=t},"update:data":function(t){return e.$set(e.treeParams,"data",t)}}})],1)},X=[],ee={name:"select4",components:{ValueArea:b},data(){return{selectValue:[],treeParams:{data:c,filterable:!0,props:u}}}},te=ee,ae=(0,m.A)(te,Z,X,!1,null,"3cce1d38",null),le=ae.exports,se=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex"},[t("yf-tree-select",{attrs:{"tree-attrs":e.treeParams,"fold-labels":""},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),t("value-area",{attrs:{value:e.selectValue,data:e.treeParams.data},on:{"update:value":function(t){e.selectValue=t},"update:data":function(t){return e.$set(e.treeParams,"data",t)}}})],1)},re=[],ne={name:"select6",components:{ValueArea:b},data(){return{selectValue:[],treeParams:{data:c,filterable:!0,props:u}}}},ie=ne,oe=(0,m.A)(ie,se,re,!1,null,"6f2c179e",null),ce=oe.exports,ue=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex"},[t("yf-tree-select",{attrs:{"tree-attrs":e.treeParams,"only-leaf":""},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),t("value-area",{attrs:{value:e.selectValue,data:e.treeParams.data},on:{"update:value":function(t){e.selectValue=t},"update:data":function(t){return e.$set(e.treeParams,"data",t)}}})],1)},de=[],pe={name:"select8",components:{ValueArea:b},data(){return{selectValue:[],treeParams:{data:c,filterable:!0,props:u}}}},fe=pe,he=(0,m.A)(fe,ue,de,!1,null,"ed3e88f6",null),me=he.exports,ve=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex"},[t("yf-tree-select",{attrs:{"tree-attrs":e.treeParams},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),t("value-area",{attrs:{value:e.selectValue,data:e.treeParams.data},on:{"update:value":function(t){e.selectValue=t},"update:data":function(t){return e.$set(e.treeParams,"data",t)}}})],1)},be=[],ge={name:"select10",components:{ValueArea:b},data(){return{selectValue:[3,31,32,33],treeParams:{data:c,filterable:!0,props:u}}}},ye=ge,xe=(0,m.A)(ye,ve,be,!1,null,"0407d788",null),Ve=xe.exports,_e=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex"},[t("yf-tree-select",{attrs:{"tree-attrs":e.treeParams},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),t("value-area",{attrs:{value:e.selectValue,data:e.treeParams.data},on:{"update:value":function(t){e.selectValue=t},"update:data":function(t){return e.$set(e.treeParams,"data",t)}}})],1)},ke=[],we={name:"select12",components:{ValueArea:b},data(){return{selectValue:[{id:41,name:"标签四-一"},{id:42,name:"标签四-二"},{id:421,name:"标签四-二-一"},{id:422,name:"标签四-二-二"}],treeParams:{data:c,filterable:!0,props:u}}}},Ae=we,Ce=(0,m.A)(Ae,_e,ke,!1,null,"0e590aea",null),Pe=Ce.exports,Se=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex"},[t("yf-tree-select",{attrs:{"tree-attrs":e.treeParams},on:{getValueDetail:e.getValueDetail},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),t("div",{staticClass:"json-display"},[t("div",[e._v("需要v-model基本类型数组，但是还需要label使用@getValueDetail")]),e._v(" "+e._s(e.value)+" ")])],1)},Le=[],Oe={name:"select51",components:{ValueArea:b},data(){return{selectValue:[],treeParams:{data:c,props:u},value:""}},methods:{getValueDetail(e){this.value=JSON.stringify(e,null,2)}}},De=Oe,Me=(a(593),(0,m.A)(De,Se,Le,!1,null,"5b917fb8",null)),Fe=Me.exports,Ne=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex"},[t("yf-tree-select",{attrs:{"tree-attrs":e.treeParams},on:{getAllDetail:e.getAllDetail},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),t("div",{staticClass:"json-display"},[t("div",[e._v("获取当前id对应的对象所有值 @getAllDetail ")]),e._v(" "+e._s(e.value)+" ")])],1)},Te=[],Ee={name:"select52",components:{ValueArea:b},data(){return{selectValue:[],treeParams:{data:c,props:u},value:""}},methods:{getAllDetail(e){this.value=JSON.stringify(e,null,2)}}},$e=Ee,je=(a(195),(0,m.A)($e,Ne,Te,!1,null,"1a586842",null)),Ie=je.exports,He=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"d-flex"},[t("yf-tree-select",{attrs:{"tree-attrs":e.treeParams},on:{getLabelIdsDetail:e.getLabelIdsDetail},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}}),t("div",{staticClass:"json-display"},[t("div",[e._v("获取label对应键值对 @getLabelIdsDetail")]),t("div",[e._v("场景:折叠只返回折叠的 全部返回全部的")]),e._v(" "+e._s(e.value)+" ")])],1),t("div",{staticClass:"d-flex"},[t("yf-tree-select",{attrs:{"tree-attrs":e.treeParams,"fold-labels":""},on:{getLabelIdsDetail:e.getLabelIdsDetail2},model:{value:e.selectValue2,callback:function(t){e.selectValue2=t},expression:"selectValue2"}}),t("div",{staticClass:"json-display"},[t("div",[e._v("获取label对应键值对 @getLabelIdsDetail")]),t("div",[e._v("场景:折叠只返回折叠的 全部返回全部的")]),e._v(" "+e._s(e.value2)+" ")])],1)])},Je=[],Be={name:"select53",components:{ValueArea:b},data(){return{selectValue:[],selectValue2:[],treeParams:{data:c,props:u},value:"",value2:""}},methods:{getLabelIdsDetail(e){this.value=JSON.stringify(e,null,2)},getLabelIdsDetail2(e){this.value2=JSON.stringify(e,null,2)}}},ze=Be,Ue=(a(662),(0,m.A)(ze,He,Je,!1,null,"92e914be",null)),Re=Ue.exports,Ke={name:"App",components:{Select53:Re,Select52:Ie,Select51:Fe,Select12:Pe,Select10:Ve,Select8:me,Select6:ce,Select4:le,Select2:Q,Select9:R,Select7:I,Select5:F,Select1:V,Select3:P},data(){return{active:"single"}}},Ye=Ke,Ge=(a(25),(0,m.A)(Ye,r,n,!1,null,null,null)),We=Ge.exports,qe=ElementUI,Qe=a.n(qe),Ze=(a(712),function(){var e=this,t=e._self._c;return t("div",{staticClass:"yf-tree-select",class:e.selectClass},[t("el-select",e._b({directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],ref:"select",staticClass:"yf-tree-select-input",style:e.styles,attrs:{id:"yf-tree-select-"+e.guid,disabled:e.disabled,"popper-class":"select-option","popper-append-to-body":!1,filterable:!1,multiple:e.selectParams.multiple,title:e.labels},on:{"remove-tag":e._selectRemoveTag,clear:e._selectClearFun,focus:e._popoverShowFun},model:{value:e.labels,callback:function(t){e.labels=t},expression:"labels"}},"el-select",e.selectParams,!1)),t("el-popover",{ref:"popover",attrs:{placement:e.placement,transition:e.transition,"popper-class":e.popperClass,width:e.width,trigger:"click"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.treeParams.filterable?t("el-input",{staticClass:"input-with-select mb10",attrs:{size:"mini"},on:{change:e._searchFun},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1):e._e(),t("el-scrollbar",{staticClass:"is-empty",attrs:{tag:"div","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[t("el-tree",e._b({directives:[{name:"show",rawName:"v-show",value:e.data.length>0,expression:"data.length > 0"}],ref:"tree",class:{"single-select":!e.selectParams.multiple},attrs:{data:e.data,"node-key":e.propsValue,draggable:!1,"current-node-key":e.ids.length>0?e.ids[0]:"","show-checkbox":e.selectParams.multiple,"render-content":e.treeRenderFun},on:{"node-click":e._treeNodeClickFun,check:e._treeCheckFun}},"el-tree",e.treeParams,!1)),0===e.data.length?t("div",{staticClass:"no-data"},[e._v("暂无数据")]):e._e()],1)],1)],1)}),Xe=[];const et=function(){return document.addEventListener?function(e,t,a){e&&t&&a&&e.addEventListener(t,a,!1)}:function(e,t,a){e&&t&&a&&e.attachEvent("on"+t,a)}}(),tt=function(){return document.removeEventListener?function(e,t,a){e&&t&&e.removeEventListener(t,a,!1)}:function(e,t,a){e&&t&&e.detachEvent("on"+t,a)}}();function at(e,t=100){let a;return(...l)=>{const s=this;clearTimeout(a),a=setTimeout((()=>{e.apply(s,l)}),t)}}function lt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){let t=16*Math.random()|0,a="x"===e?t:3&t|8;return a.toString(16)}))}var st={name:"yf-tree-select",props:{value:{type:[String,Array,Number,Object],default(){return""}},styles:{type:Object,default(){return{}}},selectClass:{type:String,default(){return""}},popoverClass:{type:String,default(){return""}},disabled:{type:Boolean,default(){return!1}},placement:{type:String,default(){return"bottom"}},transition:{type:String,default(){return"el-zoom-in-top"}},treeRenderFun:Function,filterNodeMethod:Function,selectAttrs:{type:Object,default(){return{}}},treeAttrs:{type:Object,default(){return{}}},customerFilter:{type:Boolean,default:!1},foldLabels:{type:Boolean,default:!1},onlyLeaf:{type:Boolean,default:!1},needValueName:{type:Boolean,default:!1}},data(){return{guid:lt(),propsValue:"id",propsLabel:"label",propsCode:null,propsDisabled:"disabled",propsChildren:"children",leafOnly:!1,includeHalfChecked:!1,data:[],keywords:"",labels:"",ids:[],visible:!1,width:150,dataTrans:[],treeParams:{filterable:!1,leafOnly:!1,"expand-on-click-node":!1,includeHalfChecked:!1,data:[],multiple:!1,props:{children:"children",label:"name",code:"",value:"value",disabled:"disabled"}},selectParams:{clearable:!0,disabled:!1,placeholder:"请选择",multiple:!1},singleSelectDom:"",timer:""}},watch:{ids:function(e){void 0!==e&&this.$nextTick((()=>{this._setSelectNodeFun(e)}))},value:function(e){this.ids!==e&&(this._setMultipleFun(),this.ids=this.getIds(e),this.singleSelectDom&&this.singleSelectDom.classList.remove("is-current"))},treeAttrs:{handler(e){this.deepMerge(this.treeParams,e),this.initTree()},deep:!0,immediate:!0},selectAttrs:{handler(e){this.deepMerge(this.selectParams,e),this.initSelect()},deep:!0,immediate:!0},visible(){this._updatePopoverLocationFun(),this.removeAriaHidden()}},computed:{popperClass(){let e=this.onlyLeaf?" only-leaf ":" not-only-leaf ",t="yf-tree-select-popper "+this.popoverClass+e;return this.disabled?t+" disabled ":t}},created(){this.initTree()},mounted(){this._updateH(),this.$nextTick((()=>{et(document,"mouseup",this._popoverHideFun)}))},methods:{initTree(){const{props:e,data:t,leafOnly:a,includeHalfChecked:l}=this.treeParams;this._setMultipleFun(),this.propsValue=e.value,this.propsLabel=e.label,this.propsCode=e.code||null,this.propsDisabled=e.disabled,this.propsChildren=e.children,this.leafOnly=a,this.includeHalfChecked=l,this.data=t.length>0?[...t]:[],this.dataTrans=this.transformTreeToObjects(this.data)},initSelect(){this.selectParams.multiple?this.labels=[]:this.labels="",this.ids=this.getIds(this.value)},getIds(e){return this.selectParams.multiple?this.isArrayObject(e)?e.map((e=>e[this.propsValue])):e:""===e?[]:this.isObject(e)?[e[this.propsValue]]:[e]},_setMultipleFun(){let e=!1;this.value instanceof Array?e=!0:this.treeParams.checkOnClickNode=!1,this.$set(this.selectParams,"multiple",e)},_searchFun(){if(this.$emit("searchFun",this.keywords),this.customerFilter)return;const{filterable:e,data:t}=this.treeParams;if(e){let e=JSON.parse(JSON.stringify(t));if(this.data=this.filterTreeArray(e,this.keywords),this.treeDataUpdateFun(this.data),!this.keywords)return void(this.treeParams["default-expanded-keys"]=[]);this.treeParams["default-expanded-keys"]=this.extractAllIds(this.data)}},_setSelectNodeFun(e){const t=this.$refs.tree;if(!t)throw new Error("找不到tree dom");const{multiple:a}=this.selectParams;if(0===e.length||0===this.data.length)return this.labels=a?[]:"",void(a?t.setCheckedKeys([]):t.setCurrentKey(null));if(a){t.getCheckedNodes(this.leafOnly,this.includeHalfChecked).forEach((e=>{t.setChecked(e,!1)})),e.forEach((e=>{t.setChecked(e,!0)}));const a=t.getCheckedNodes(this.leafOnly,this.includeHalfChecked),l=at(this.setMultipleLabels);l(e,a)}else{t.setCurrentKey(e[0]);const a=t.getCurrentNode(),l=at(this.setSingleLabel);l(a)}this._updatePopoverLocationFun()},setMultipleLabels(e,t){const{propsValue:a,propsLabel:l,propsCode:s}=this;let r=[];if(this.foldLabels){let t=this.filterDeptIds(this.dataTrans,e);this.labels=s?this.dataTrans.filter((e=>t.includes(e[a]))).map((e=>e[s]?e[l]+"("+e[s]+")":e[l]))||[]:this.dataTrans.filter((e=>t.includes(e[a]))).map((e=>e[l]))||[],r=t}else this.labels=s?t.map((e=>e[s]?e[l]+"("+e[s]+")":e[l]))||[]:t.map((e=>e[l]))||[],r=t.map((e=>e[a]));this.getLabelIdsDetail(r)},setSingleLabel(e){let t=[];e?(this.propsCode?this.labels=e[this.propsCode]?e[this.propsLabel]+"("+e[this.propsCode]+")":e[this.propsLabel]:this.labels=e[this.propsLabel],t=[e[this.propsValue]]):this.labels="",this.getLabelIdsDetail(t)},getLabelIdsDetail(e){const t=this.dataTrans.filter((t=>e.includes(t[this.propsValue]))).map((e=>{const{children:t,parent:a,...l}=e;return l}));this.$emit("getLabelIdsDetail",t)},_updatePopoverLocationFun(){setTimeout((()=>{this.$refs.popover.updatePopper()}),50)},_getEventPath(e){const t=e.composedPath&&e.composedPath()||e.path,a=e.target;if(null!=t)return t.indexOf(window)<0?t.concat(window):t;if(a===window)return[window];function l(e,t){t=t||[];const a=e.parentNode;return a?l(a,t.concat(a)):t}return[a].concat(l(a),window)},_treeNodeClickFun(e,t,a){const{multiple:l}=this.selectParams,s=this.onlyLeaf,{propsValue:r,propsChildren:n,propsDisabled:i}=this,o=e[n]||[];if(!e[i]&&!l){if(t.checked){const t=e[r];this.ids=this.ids.filter((e=>e!==t))}else if(!l)if(s){if(0!==o.length)return setTimeout((()=>{this.singleSelectDom.classList.add("is-current")})),!1;setTimeout((()=>{this.singleSelectDom&&this.singleSelectDom.classList.remove("is-current"),a.$el.classList.add("is-current"),this.singleSelectDom=a.$el})),this.ids=[e[r]],this.visible=!1}else this.ids=[e[r]],this.visible=!1;this._emitFun(),this.$emit("node-click",e,t,a)}},_treeCheckFun(e,t,a){this.ids=[];const{propsValue:l}=this;t.checkedNodes.forEach((e=>{this.ids.push(e[l])})),this.$emit("check",e,t,a),this._emitFun()},_selectRemoveTag(e){const{propsValue:t,propsLabel:a}=this;let l=this.dataTrans.find((t=>t[a]===e))[t];this.ids=this.removeIds(l,this.dataTrans,this.ids),this.$refs.tree.setCheckedKeys(this.ids),this.$emit("removeTag",this.ids,e),this._emitFun()},_selectClearFun(){this.ids=[];const{multiple:e}=this.selectParams;this.$emit("input",e?[]:""),this.$emit("select-clear"),this._updatePopoverLocationFun()},_emitFun(){const{multiple:e}=this.selectParams;let t=JSON.parse(JSON.stringify(this.ids));const a=this.dataTrans.filter((e=>t.includes(e[this.propsValue]))),l=a.map((e=>{const{children:t,parent:a,...l}=e;return l}));this.$emit("getAllDetail",l),this.onlyLeaf&&(t=this.filterNodesWithEmptyChildren(this.dataTrans,this.ids));const s=this.dataTrans.filter((e=>t.includes(e[this.propsValue]))),r=s.map((e=>({[this.propsValue]:e[this.propsValue],[this.propsLabel]:e[this.propsLabel]})));let n=this.needValueName?r:t;this.$emit("input",e?n:n.length>0?n[0]:""),this.$emit("getValueDetail",r),this._updatePopoverLocationFun()},_updateH(){this.$nextTick((()=>{this.width=this.$refs.select.$el.getBoundingClientRect().width}))},_popoverShowFun(e){this._updateH()},_popoverHideFun(e){const t=this._getEventPath(e);let a=t.some((e=>e.className&&"string"===typeof e.className&&-1!==e.className.indexOf("yf-tree-select")));a||(this.visible=!1)},treeDataUpdateFun(e){this.data=e,e.length>0&&setTimeout((()=>{this._setSelectNodeFun(this.ids)}),300)},filterFun(e){this.$refs.tree.filter(e)},transformTreeToObjects(e){const{propsValue:t,propsLabel:a,propsChildren:l}=this,s=[],r=(e,i)=>{const o={...e,parent:i?{[t]:i[t],[a]:i[a]}:null,[l]:e[l]?e[l].map((e=>n(e))):[]};if(s.push(o),e[l])for(const t of e[l])r(t,o)},n=e=>({...e,[l]:e[l]?e[l].map(n):[]});for(const i of e)r(i,null);return s},removeIds(e,t,a){const{propsValue:l,propsChildren:s}=this,r={};t.forEach((e=>{r[e[l]]=e}));const n=new Set,i=r[e];if(!i)return a;if(i[s]&&i[s].length>0){const e=t=>{n.add(t[l]),t[s]&&t[s].forEach((t=>{e(t)}))};e(i)}return i.parent?(n.add(i.parent[l]),n.add(e)):n.add(e),a.filter((e=>!n.has(e)))},deepMerge(e,t){for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&("object"===typeof t[a]&&null!==t[a]?(e[a]&&"object"===typeof e[a]||(e[a]=Array.isArray(t[a])?[]:{}),this.deepMerge(e[a],t[a])):e[a]=t[a]);return e},filterTreeArray(e,t){const{propsValue:a,propsLabel:l,propsChildren:s}=this;return t?e.filter((e=>!!e[l].toLowerCase().includes(t.toLowerCase())||(!!String(e[a]).toLowerCase().includes(t.toLowerCase()+"")||!!(e[s]&&e[s].length>0)&&(e[s]=this.filterTreeArray(e[s],t),e[s].length>0)))):e},extractAllIds(e){const{propsValue:t,propsChildren:a}=this,l=[],s=e=>{l.push(e[t]),e[a]&&e[a].forEach((e=>s(e)))};return e.forEach((e=>s(e))),l},filterDeptIds(e,t){const{propsValue:a,propsChildren:l}=this;"number"===typeof t&&(t=String(t));const s=new Set(t),r=(e,t)=>{for(const s of e){if(String(s[a])===t+"")return s;const e=r(s[l],t);if(e)return e}return null};for(const n of t){const t=r(e,n);if(t&&t[l]&&t[l].length>0)for(const e of t[l])s.delete(e[a])}return Array.from(s)},filterNodesWithEmptyChildren(e,t){return e.filter((e=>t.includes(e[this.propsValue])&&(!e[this.propsChildren]||!e[this.propsChildren].length))).map((e=>e[this.propsValue]))},isArrayObject(e){return e.every((e=>"object"===typeof e&&!Array.isArray(e)))},isObject(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)},removeAriaHidden(){var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;const t=document.querySelector("body"),a={attributes:!0,childList:!0,subtree:!0},l=new e((function(){document.querySelectorAll(".yf-tree-select-popper[aria-hidden]").forEach((e=>{e.removeAttribute("aria-hidden")}))}));l.observe(t,a)}},components:{},beforeDestroy(){tt(document,"mouseup",this._popoverHideFun)}},rt=st,nt=(a(877),(0,m.A)(rt,Ze,Xe,!1,null,null,null)),it=nt.exports;it.install=function(e){e.component(it.name,it)};var ot=it;s().config.productionTip=!1,s().use(Qe()),s().use(ot),new(s())({render:function(e){return e(We)}}).$mount("#app")},376:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg=="},30:function(e){"use strict";e.exports="data:image/svg+xml;utf8,%3Csvg class=%27icon%27 width=%27200%27 height=%27200%27 viewBox=%270 0 1024 1024%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath fill=%27currentColor%27 d=%27M406.656 706.944L195.84 496.256a32 32 0 10-45.248 45.248l256 256 512-512a32 32 0 00-45.248-45.248L406.592 706.944z%27%3E%3C/path%3E%3C/svg%3E"}},t={};function a(l){var s=t[l];if(void 0!==s)return s.exports;var r=t[l]={id:l,exports:{}};return e[l](r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,l,s,r){if(!l){var n=1/0;for(u=0;u<e.length;u++){l=e[u][0],s=e[u][1],r=e[u][2];for(var i=!0,o=0;o<l.length;o++)(!1&r||n>=r)&&Object.keys(a.O).every((function(e){return a.O[e](l[o])}))?l.splice(o--,1):(i=!1,r<n&&(n=r));if(i){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[l,s,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){a.b=document.baseURI||self.location.href;var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var s,r,n=l[0],i=l[1],o=l[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(o)var u=o(a)}for(t&&t(l);c<n.length;c++)r=n[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},l=self["webpackChunkyf_tree_select"]=self["webpackChunkyf_tree_select"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],(function(){return a(534)}));l=a.O(l)})();